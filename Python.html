

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Serialbox Python &#8212; Serialbox 2.0.1 documentation</title>
    <link rel="stylesheet" href="_static/serialbox-theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Fortran interface" href="Fortran.html" />
    <link rel="prev" title="C interface" href="C.html" /> 
  </head>
  <body>
<div class="logo">
  <a href="index.html">
    <img src="_static/logo.png"
         alt="Serialbox Logo" width="445" height="170"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Fortran.html" title="Fortran interface"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="C.html" title="C interface"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Serialbox 2.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Serialbox Python</a><ul>
<li><a class="reference internal" href="#building">Building</a></li>
<li><a class="reference internal" href="#quick-start-writing">Quick start - Writing</a></li>
<li><a class="reference internal" href="#quick-start-reading">Quick start - Reading</a></li>
<li><a class="reference internal" href="#quick-start-visualization">Quick start - Visualization</a></li>
<li><a class="reference internal" href="#serializer">Serializer</a></li>
<li><a class="reference internal" href="#metainfomap">MetaInfoMap</a></li>
<li><a class="reference internal" href="#fieldmetainfo">FieldMetaInfo</a></li>
<li><a class="reference internal" href="#savepoint">Savepoint</a></li>
<li><a class="reference internal" href="#archive">Archive</a></li>
<li><a class="reference internal" href="#logging">Logging</a></li>
<li><a class="reference internal" href="#config">Config</a></li>
<li><a class="reference internal" href="#openmodekind">OpenModeKind</a></li>
<li><a class="reference internal" href="#typeid">TypeID</a></li>
<li><a class="reference internal" href="#slice">Slice</a></li>
<li><a class="reference internal" href="#serialboxerror">SerialboxError</a></li>
<li><a class="reference internal" href="#visualizer">Visualizer</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="C.html"
                        title="previous chapter">C interface</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Fortran.html"
                        title="next chapter">Fortran interface</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Python.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="serialbox-python">
<h1>Serialbox Python<a class="headerlink" href="#serialbox-python" title="Permalink to this headline">¶</a></h1>
<p>This section is concerned with the <a class="reference external" href="https://www.python.org/">python3</a> interface of Serialbox. A set of examples can be found in <code class="docutils literal"><span class="pre">examples/python/</span></code>.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#building" id="id13">Building</a></li>
<li><a class="reference internal" href="#quick-start-writing" id="id14">Quick start - Writing</a></li>
<li><a class="reference internal" href="#quick-start-reading" id="id15">Quick start - Reading</a></li>
<li><a class="reference internal" href="#quick-start-visualization" id="id16">Quick start - Visualization</a></li>
<li><a class="reference internal" href="#serializer" id="id17">Serializer</a></li>
<li><a class="reference internal" href="#metainfomap" id="id18">MetaInfoMap</a></li>
<li><a class="reference internal" href="#fieldmetainfo" id="id19">FieldMetaInfo</a></li>
<li><a class="reference internal" href="#savepoint" id="id20">Savepoint</a></li>
<li><a class="reference internal" href="#archive" id="id21">Archive</a></li>
<li><a class="reference internal" href="#logging" id="id22">Logging</a></li>
<li><a class="reference internal" href="#config" id="id23">Config</a></li>
<li><a class="reference internal" href="#openmodekind" id="id24">OpenModeKind</a></li>
<li><a class="reference internal" href="#typeid" id="id25">TypeID</a></li>
<li><a class="reference internal" href="#slice" id="id26">Slice</a></li>
<li><a class="reference internal" href="#serialboxerror" id="id27">SerialboxError</a></li>
<li><a class="reference internal" href="#visualizer" id="id28">Visualizer</a></li>
</ul>
</div>
<div class="section" id="building">
<span id="pythonbuilding"></span><h2><a class="toc-backref" href="#id13">Building</a><a class="headerlink" href="#building" title="Permalink to this headline">¶</a></h2>
<p>The Python interface of Serialbox is built if the CMake variable <code class="docutils literal"><span class="pre">SERIALBOX_ENABLE_PYTHON</span></code> is ON (which is the default behaviour) and installed in <code class="docutils literal"><span class="pre">install/python/serialbox</span></code>. Serialbox requires atleast Python3.4 and relies on <a class="reference external" href="http://www.numpy.org/">numpy</a>.</p>
<p>To get started, add the path of the Serialbox module to the Python environment variable <code class="docutils literal"><span class="pre">PYTHONPATH</span></code></p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">export</span> <span class="nv">PYTHONPATH</span><span class="o">=</span>&lt;path-to-serialbox-installation&gt;/python:<span class="nv">$PYTHONPATH</span>
</pre></div>
</div>
<p>To check if everything works:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">export</span> <span class="nv">PYTHONPATH</span><span class="o">=</span>&lt;path-to-serialbox-installation&gt;/python:<span class="nv">$PYTHONPATH</span>
<span class="gp">$</span> python3 -c <span class="s2">&quot;from serialbox import __version__; print(__version__)&quot;</span>
</pre></div>
</div>
<p>which should print the current version string of the library.</p>
</div>
<div class="section" id="quick-start-writing">
<span id="qswriting"></span><h2><a class="toc-backref" href="#id14">Quick start - Writing</a><a class="headerlink" href="#quick-start-writing" title="Permalink to this headline">¶</a></h2>
<p>This section will show you how to write <code class="xref py py-class docutils literal"><span class="pre">numpy.arrays</span></code> using the Python interface of Serialbox. The written data set can be read by any language supported by Serialbox. To get started, import the <code class="docutils literal"><span class="pre">serialbox</span></code> module:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">serialbox</span> <span class="k">as</span> <span class="nn">ser</span>
</pre></div>
</div>
<p>To serialize data, you have to create a <a class="reference internal" href="#serialbox.Serializer" title="serialbox.Serializer"><code class="xref py py-class docutils literal"><span class="pre">Serializer</span></code></a> object. The Serializer is initialized with a <cite>mode</cite> (<code class="xref py py-class docutils literal"><span class="pre">OpenModeKind</span></code>), a <cite>directory</cite> and a specific <cite>prefix</cite>, with which all the written files in the data set start. All files will be placed in <cite>directory</cite> and the directory will be created if necessary. For writing there are two modes: <code class="docutils literal"><span class="pre">Write</span></code> and <code class="docutils literal"><span class="pre">Append</span></code>: Write will erase all files of a previous run of a serializer the with same <cite>directory</cite> and <cite>prefix</cite>; Append will import all existing information and allow you to add more data.</p>
<p>To open a <a class="reference internal" href="#serialbox.Serializer" title="serialbox.Serializer"><code class="xref py py-class docutils literal"><span class="pre">Serializer</span></code></a> for writing in the current directory and prefix all files with <code class="docutils literal"><span class="pre">field</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">Serializer</span><span class="p">(</span><span class="n">ser</span><span class="o">.</span><span class="n">OpenModeKind</span><span class="o">.</span><span class="n">Write</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>To serialize a field, you have to register the field within the Serializer (<code class="xref py py-func docutils literal"><span class="pre">Serializer.register_field</span></code>) and specify a specifc <code class="xref py py-class docutils literal"><span class="pre">Savepoint</span></code> at which the field will be written. Savepoints are used within the Serializer to discriminate fields at different points in time. Savepoints in the Serializer are unique and primarily identified by their <code class="xref py py-func docutils literal"><span class="pre">name</span></code> and further distinguished by their <code class="xref py py-func docutils literal"><span class="pre">metainfo</span></code>. Savepoints can thus have the same name as long as their <code class="xref py py-func docutils literal"><span class="pre">metainfo</span></code> differs. As a short example, we will serialize two <code class="xref py py-class docutils literal"><span class="pre">numpy.arrays</span></code> <code class="docutils literal"><span class="pre">foo</span></code> and <code class="docutils literal"><span class="pre">bar</span></code> at two different Savepoints (<code class="docutils literal"><span class="pre">MySavepoint</span></code> with <code class="docutils literal"><span class="pre">time=1</span></code> and <code class="docutils literal"><span class="pre">time=2</span></code>).</p>
<p>We create the fields:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bar</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
</pre></div>
</div>
<p>Register the fields (<code class="xref py py-class docutils literal"><span class="pre">FieldMetainfo</span></code>) within the <a class="reference internal" href="#serialbox.Serializer" title="serialbox.Serializer"><code class="xref py py-class docutils literal"><span class="pre">Serializer</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">foo_info</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">FieldMetainfo</span><span class="p">(</span><span class="n">ser</span><span class="o">.</span><span class="n">TypeID</span><span class="o">.</span><span class="n">Float64</span><span class="p">,</span> <span class="n">foo</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bar_info</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">FieldMetainfo</span><span class="p">(</span><span class="n">ser</span><span class="o">.</span><span class="n">TypeID</span><span class="o">.</span><span class="n">Float64</span><span class="p">,</span> <span class="n">bar</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span><span class="o">.</span><span class="n">register_field</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">foo_info</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span><span class="o">.</span><span class="n">register_field</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="n">bar_info</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">()</span>
<span class="go">[&#39;foo&#39;, &#39;bar&#39;]</span>
</pre></div>
</div>
<p>Write <code class="docutils literal"><span class="pre">foo</span></code> and <code class="docutils literal"><span class="pre">bar</span></code> at <code class="docutils literal"><span class="pre">MySavepoint</span></code> with <code class="docutils literal"><span class="pre">time=1</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MySavepoint_t1</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">Savepoint</span><span class="p">(</span><span class="s2">&quot;MySavepoint&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span><span class="o">.</span><span class="n">register_savepoint</span><span class="p">(</span><span class="n">MySavepoint_t1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">MySavepoint_t1</span><span class="p">,</span> <span class="n">foo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="n">MySavepoint_t1</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>
</pre></div>
</div>
<p>Perform a silly timestep:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">*=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bar</span> <span class="o">*=</span> <span class="mi">2</span>
</pre></div>
</div>
<p>and write the updated fields at <code class="docutils literal"><span class="pre">MySavepoint</span></code> with <code class="docutils literal"><span class="pre">time=2</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MySavepoint_t2</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">Savepoint</span><span class="p">(</span><span class="s2">&quot;MySavepoint&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span><span class="o">.</span><span class="n">register_savepoint</span><span class="p">(</span><span class="n">MySavepoint_t2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">MySavepoint_t2</span><span class="p">,</span> <span class="n">foo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="n">MySavepoint_t2</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>
</pre></div>
</div>
<p>The current directory will now contain the following files</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span>.
├── ArchiveMetaData-field.json
├── MetaData-field.json
├── field_bar.dat
└── field_foo.dat
</pre></div>
</div>
<p>With <code class="docutils literal"><span class="pre">field_foo.dat</span></code> and <code class="docutils literal"><span class="pre">field_bar.dat</span></code> containing the actual data while the <cite>JSON</cite> files hold the meta-information.</p>
<p><strong>Note:</strong> The Python interface is actually more powerful and you can omit all the calls to  <code class="xref py py-func docutils literal"><span class="pre">register_field</span></code> and <code class="xref py py-func docutils literal"><span class="pre">register_savepoint</span></code>. The example above can thus be written as:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bar</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">ser</span><span class="o">.</span><span class="n">Savepoint</span><span class="p">(</span><span class="s2">&quot;MySavepoint&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}),</span> <span class="n">foo</span><span class="p">)</span> <span class="c1"># implicitly register savepoint and field</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="n">ser</span><span class="o">.</span><span class="n">Savepoint</span><span class="p">(</span><span class="s2">&quot;MySavepoint&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}),</span> <span class="n">bar</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">*=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bar</span> <span class="o">*=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">ser</span><span class="o">.</span><span class="n">Savepoint</span><span class="p">(</span><span class="s2">&quot;MySavepoint&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}),</span> <span class="n">foo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="n">ser</span><span class="o">.</span><span class="n">Savepoint</span><span class="p">(</span><span class="s2">&quot;MySavepoint&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}),</span> <span class="n">bar</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="quick-start-reading">
<span id="qsreading"></span><h2><a class="toc-backref" href="#id15">Quick start - Reading</a><a class="headerlink" href="#quick-start-reading" title="Permalink to this headline">¶</a></h2>
<p>This section will show you how to read data from an existing Serialbox data set, written by any language supported by Serialbox. In this example, we will use the data set written in the <a class="reference internal" href="#qswriting"><span class="std std-ref">Quick start - Writing</span></a> section. To get started, import the <code class="docutils literal"><span class="pre">serialbox</span></code> module:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">serialbox</span> <span class="k">as</span> <span class="nn">ser</span>
</pre></div>
</div>
<p>To access the data, you have to create a <a class="reference internal" href="#serialbox.Serializer" title="serialbox.Serializer"><code class="xref py py-class docutils literal"><span class="pre">Serializer</span></code></a> object. The Serializer is initialized with a <cite>mode</cite> (<code class="xref py py-class docutils literal"><span class="pre">OpenModeKind</span></code>), a <cite>directory</cite> and a specific <cite>prefix</cite>, with which all the files in the data set start. The <cite>directory</cite> has to contain the data in question and the <cite>prefix</cite> has to match the one of the data set (i.e the same as used in the writing).</p>
<p>To open a <a class="reference internal" href="#serialbox.Serializer" title="serialbox.Serializer"><code class="xref py py-class docutils literal"><span class="pre">Serializer</span></code></a> in the current directory for reading of fields matching <code class="docutils literal"><span class="pre">field_*.dat</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span> <span class="o">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">Serializer</span><span class="p">(</span><span class="n">ser</span><span class="o">.</span><span class="n">OpenModeKind</span><span class="o">.</span><span class="n">Read</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In case of an error, a <a class="reference internal" href="#serialboxerror"><span class="std std-ref">SerialboxError</span></a> is thrown. To access a particular <cite>field</cite>, you have to specify a specific <code class="xref py py-class docutils literal"><span class="pre">Savepoint</span></code> of this <cite>field</cite>. Savepoints are used within the Serializer to discriminate fields at different points in time. Savepoints in the Serializer are unique and primarily identified by their <code class="xref py py-func docutils literal"><span class="pre">name</span></code> and further distinguished by their <code class="xref py py-func docutils literal"><span class="pre">metainfo</span></code>. To get a full list of all registered savepoint (in the order they were registered):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span><span class="o">.</span><span class="n">savepoint_list</span><span class="p">()</span>
<span class="go">[Savepoint MySavepoint {&quot;time&quot;:1}, Savepoint MySavepoint {&quot;time&quot;:2}]</span>
</pre></div>
</div>
<p>For more advanced queries, see <code class="xref py py-func docutils literal"><span class="pre">Serializer.savepoint</span></code>. To get a list of all registered fields:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">serializer</span><span class="o">.</span><span class="n">fieldnames</span><span class="p">()</span>
<span class="go">[&#39;foo&#39;, &#39;bar&#39;]</span>
</pre></div>
</div>
<p>To read <code class="docutils literal"><span class="pre">foo</span></code> at Savepoint with <code class="docutils literal"><span class="pre">time=1</span></code>, you can use one of the <cite>read</cite> methods of the Serializer (<code class="xref py py-func docutils literal"><span class="pre">Serializer.read</span></code>, <code class="xref py py-func docutils literal"><span class="pre">Serializer.read_slice</span></code>, <code class="xref py py-func docutils literal"><span class="pre">Serializer.read_async</span></code>)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">savepoint</span> <span class="o">=</span> <span class="n">serializer</span><span class="o">.</span><span class="n">savepoint</span><span class="p">[</span><span class="s2">&quot;MySavepoint&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">time</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">=</span> <span class="n">serializer</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">savepoint</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">foo</span></code> is a newly allocated <code class="xref py py-class docutils literal"><span class="pre">numpy.array</span></code> containing the deserialized data.</p>
</div>
<div class="section" id="quick-start-visualization">
<span id="qsvisualization"></span><h2><a class="toc-backref" href="#id16">Quick start - Visualization</a><a class="headerlink" href="#quick-start-visualization" title="Permalink to this headline">¶</a></h2>
<p>To help visualizing the data serialbox2 contains a built-in <code class="xref py py-class docutils literal"><span class="pre">Visualizer</span></code> based on <a class="reference external" href="https://matplotlib.org/">matplotlib</a> . The visualizer is able to visualize any 3D numpy field and expects two arguments: a reference to the numpy field and the name of the plot. For exmaple, to visualize the field <code class="docutils literal"><span class="pre">pp</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">serialbox.visualizer</span> <span class="k">import</span> <span class="n">Visualizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Visualizer</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="s1">&#39;pp&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will open a window displaying the data:</p>
<img alt="_images/visualizer.png" src="_images/visualizer.png" />
</div>
<div class="section" id="serializer">
<span id="id1"></span><h2><a class="toc-backref" href="#id17">Serializer</a><a class="headerlink" href="#serializer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="serialbox.Serializer">
<em class="property">class </em><code class="descclassname">serialbox.</code><code class="descname">Serializer</code><span class="sig-paren">(</span><em>directory='.'</em>, <em>prefix='Field'</em>, <em>openmode='r'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/serialbox/Serializer.html#Serializer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#serialbox.Serializer" title="Permalink to this definition">¶</a></dt>
<dd><p>The serializer that allows accessing serialized data</p>
<dl class="method">
<dt id="serialbox.Serializer.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>directory='.'</em>, <em>prefix='Field'</em>, <em>openmode='r'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/serialbox/Serializer.html#Serializer.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#serialbox.Serializer.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a serializer</p>
<p>Arguments:
directory – The directory where the data is loaded
prefix – The prefix of the serialized data
openmode – The data mode: Anything other than <cite>r</cite> is currently not supported</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="metainfomap">
<span id="id2"></span><h2><a class="toc-backref" href="#id18">MetaInfoMap</a><a class="headerlink" href="#metainfomap" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="fieldmetainfo">
<span id="id3"></span><h2><a class="toc-backref" href="#id19">FieldMetaInfo</a><a class="headerlink" href="#fieldmetainfo" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="savepoint">
<span id="id4"></span><h2><a class="toc-backref" href="#id20">Savepoint</a><a class="headerlink" href="#savepoint" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="archive">
<span id="id5"></span><h2><a class="toc-backref" href="#id21">Archive</a><a class="headerlink" href="#archive" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="logging">
<span id="id6"></span><h2><a class="toc-backref" href="#id22">Logging</a><a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="config">
<span id="id7"></span><h2><a class="toc-backref" href="#id23">Config</a><a class="headerlink" href="#config" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="openmodekind">
<span id="id8"></span><h2><a class="toc-backref" href="#id24">OpenModeKind</a><a class="headerlink" href="#openmodekind" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="67%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Mode</th>
<th class="head">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">Read</span></code></td>
<td>0</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">Write</span></code></td>
<td>1</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">Append</span></code></td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="typeid">
<span id="id9"></span><h2><a class="toc-backref" href="#id25">TypeID</a><a class="headerlink" href="#typeid" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="50%" />
<col width="31%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">TypeID</th>
<th class="head">Python Type</th>
<th class="head">C++ Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">TypeID.Boolean</span></code></td>
<td><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">bool</span></code></a></td>
<td><code class="docutils literal"><span class="pre">bool</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">TypeID.Int32</span></code></td>
<td><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></a>, np.int32</td>
<td><code class="docutils literal"><span class="pre">int</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">TypeID.Int64</span></code></td>
<td><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></a>, np.int64</td>
<td><code class="docutils literal"><span class="pre">std::int64_t</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">TypeID.Float32</span></code></td>
<td><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>, np.float32</td>
<td><code class="docutils literal"><span class="pre">float</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">TypeID.Float64</span></code></td>
<td><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></a>, np.float64</td>
<td><code class="docutils literal"><span class="pre">double</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">TypeID.String</span></code></td>
<td><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">str</span></code></a></td>
<td><code class="docutils literal"><span class="pre">std::string</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="slice">
<span id="id10"></span><h2><a class="toc-backref" href="#id26">Slice</a><a class="headerlink" href="#slice" title="Permalink to this headline">¶</a></h2>
<p>Specification of the slice indices which are used for partial loading of serialized data.
To avoid instantiation, use the global object serialbox.Slice.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Slice</span><span class="p">[:,</span> <span class="p">:,</span> <span class="mi">5</span><span class="p">]</span>
<span class="go">(slice(None, None, None), slice(None, None, None), 5)</span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/arrays.indexing.html">here</a> for furhter information on indexing.</p>
</div>
<div class="section" id="serialboxerror">
<span id="id11"></span><h2><a class="toc-backref" href="#id27">SerialboxError</a><a class="headerlink" href="#serialboxerror" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="visualizer">
<span id="id12"></span><h2><a class="toc-backref" href="#id28">Visualizer</a><a class="headerlink" href="#visualizer" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Fortran.html" title="Fortran interface"
             >next</a> |</li>
        <li class="right" >
          <a href="C.html" title="C interface"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Serialbox 2.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Fabian Thüring.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.5.
    </div>
  </body>
</html>